# Как работает регистрация пользователей в проекте CarSave

## Краткий ответ:

**В проекте нет публичной регистрации пользователей.** Клиенты добавляются администратором вручную через админ-панель.

## Детальное объяснение:

### 1. Типы пользователей:

#### Администраторы (Admin)
- **Регистрация:** Создаются вручную в базе данных (через SQL или скрипт)
- **Вход:** Через страницу `/login` (https://carsave-garant.vercel.app/login)
- **Доступ:** Полный доступ к админ-панели для управления клиентами

#### Клиенты (Client)
- **Регистрация:** Нет публичной регистрации
- **Добавление:** Администратор добавляет клиентов через админ-панель
- **Доступ:** Клиенты не имеют доступа к системе (нет личного кабинета)

### 2. Процесс добавления клиента:

1. **Администратор входит в систему:**
   - URL: `/login`
   - Email: `admin@carsave.ru`
   - Password: `admin123`

2. **Переходит в админ-панель:**
   - URL: `/admin`
   - Видит список всех клиентов

3. **Добавляет нового клиента:**
   - Нажимает "Добавить клиента" (`/admin/clients/new`)
   - Заполняет форму с данными:
     - ФИО (имя, фамилия, отчество)
     - Контакты (телефон, email)
     - Информация об автомобиле (марка, модель, год, пробег, VIN, номер)
     - Информация о договоре (дата, номер, статус)
     - Информация о гарантии (стоимость, тарифный план)
     - Заметки

4. **Данные сохраняются:**
   - Через API: `POST /api/clients`
   - В базу данных PostgreSQL (Supabase)
   - В таблицу `Client`

### 3. Технические детали:

#### API Endpoints:
- `GET /api/clients` - получить список клиентов (требует авторизации)
- `POST /api/clients` - создать нового клиента (требует авторизации)
- `GET /api/clients/[id]` - получить клиента по ID
- `PUT /api/clients/[id]` - обновить клиента
- `DELETE /api/clients/[id]` - удалить клиента

#### База данных:
- **Таблица `Admin`:** Хранит администраторов
- **Таблица `Client`:** Хранит клиентов

#### Безопасность:
- Все API endpoints защищены NextAuth
- Только авторизованные администраторы могут добавлять/редактировать клиентов
- Публичной регистрации нет

### 4. Почему нет публичной регистрации?

Это внутренняя система управления клиентами компании CarSave:
- Клиенты не должны иметь доступ к системе
- Администратор контролирует, кто добавляется в базу
- Это позволяет избежать спама и нежелательных регистраций
- Все данные проверяются администратором перед добавлением

### 5. Если нужна публичная регистрация в будущем:

Можно добавить:
- Публичную форму на сайте для клиентов
- API endpoint для регистрации без авторизации
- Email-подтверждение
- Личный кабинет для клиентов

Но сейчас это не реализовано.

## Итого:

**Вопрос:** "Как регистрируются пользователи?"

**Ответ:** "В проекте нет публичной регистрации. Клиенты добавляются администратором через админ-панель. Администраторы создаются вручную в базе данных."
